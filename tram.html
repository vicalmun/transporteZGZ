<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Tranv√≠a ZGZ</title>
<link rel="stylesheet" href="/style.css">
</head>
<body>
<nav class="nav">
<a href="/bus">Bus</a>
<a href="/tram" class="act">Tranv√≠a</a>
</nav>
<h1>üöä Tranv√≠a</h1>
<select id="parada"></select>
<div id="r"></div>
<script>
var sel=document.getElementById('parada'),
    r=document.getElementById('r');

fetch('/api/tranvia/paradas')
  .then(function(x){return x.text()})
  .then(function(html){sel.innerHTML=html});

sel.onchange=function(){
  var id=sel.value;
  if(!id){r.innerHTML='';return;}
  fetch('/api/tranvia/tiempos?id='+id)
    .then(function(x){return x.text()})
    .then(function(html){r.innerHTML=html})
    .catch(function(){r.innerHTML='<p class="err">Error de conexi√≥n</p>'});
};
</script>
</body>
</html>
